{"version":3,"sources":["/Users/jamielynch/repos/bugsnag-react-native/examples/plain/node_modules/react-native/Libraries/vendor/document/selection/DocumentSelectionState.js"],"sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @typechecks\n */\n\n'use strict';\n\nconst mixInEventEmitter = require('mixInEventEmitter');\n\n/**\n * DocumentSelectionState is responsible for maintaining selection information\n * for a document.\n *\n * It is intended for use by AbstractTextEditor-based components for\n * identifying the appropriate start/end positions to modify the\n * DocumentContent, and for programmatically setting browser selection when\n * components re-render.\n */\nclass DocumentSelectionState {\n  /**\n   * @param {number} anchor\n   * @param {number} focus\n   */\n  constructor(anchor, focus) {\n    this._anchorOffset = anchor;\n    this._focusOffset = focus;\n    this._hasFocus = false;\n  }\n\n  /**\n   * Apply an update to the state. If either offset value has changed,\n   * set the values and emit the `change` event. Otherwise no-op.\n   *\n   * @param {number} anchor\n   * @param {number} focus\n   */\n  update(anchor, focus) {\n    if (this._anchorOffset !== anchor || this._focusOffset !== focus) {\n      this._anchorOffset = anchor;\n      this._focusOffset = focus;\n      this.emit('update');\n    }\n  }\n\n  /**\n   * Given a max text length, constrain our selection offsets to ensure\n   * that the selection remains strictly within the text range.\n   *\n   * @param {number} maxLength\n   */\n  constrainLength(maxLength) {\n    this.update(\n      Math.min(this._anchorOffset, maxLength),\n      Math.min(this._focusOffset, maxLength),\n    );\n  }\n\n  focus() {\n    if (!this._hasFocus) {\n      this._hasFocus = true;\n      this.emit('focus');\n    }\n  }\n\n  blur() {\n    if (this._hasFocus) {\n      this._hasFocus = false;\n      this.emit('blur');\n    }\n  }\n\n  /**\n   * @return {boolean}\n   */\n  hasFocus() {\n    return this._hasFocus;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCollapsed() {\n    return this._anchorOffset === this._focusOffset;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isBackward() {\n    return this._anchorOffset > this._focusOffset;\n  }\n\n  /**\n   * @return {?number}\n   */\n  getAnchorOffset() {\n    return this._hasFocus ? this._anchorOffset : null;\n  }\n\n  /**\n   * @return {?number}\n   */\n  getFocusOffset() {\n    return this._hasFocus ? this._focusOffset : null;\n  }\n\n  /**\n   * @return {?number}\n   */\n  getStartOffset() {\n    return this._hasFocus\n      ? Math.min(this._anchorOffset, this._focusOffset)\n      : null;\n  }\n\n  /**\n   * @return {?number}\n   */\n  getEndOffset() {\n    return this._hasFocus\n      ? Math.max(this._anchorOffset, this._focusOffset)\n      : null;\n  }\n\n  /**\n   * @param {number} start\n   * @param {number} end\n   * @return {boolean}\n   */\n  overlaps(start, end) {\n    return (\n      this.hasFocus() &&\n      this.getStartOffset() <= end &&\n      start <= this.getEndOffset()\n    );\n  }\n}\n\nmixInEventEmitter(DocumentSelectionState, {\n  blur: true,\n  focus: true,\n  update: true,\n});\n\nmodule.exports = DocumentSelectionState;\n"],"names":["mixInEventEmitter","require","d","DocumentSelectionState","anchor","focus","_classCallCheck","this","_anchorOffset","_focusOffset","_hasFocus","emit","maxLength","update","Math","min","max","start","end","hasFocus","getStartOffset","getEndOffset","blur","module","exports"],"mappings":"4BAUA,qCAEMA,EAAoBC,EAAOC,EAAA,IAW3BC,cAKJ,SAAAA,EAAYC,EAAQC,GAAOC,EAAAC,KAAAJ,GACzBI,KAAKC,cAAgBJ,EACrBG,KAAKE,aAAeJ,EACpBE,KAAKG,WAAY,2CAUZN,EAAQC,GACTE,KAAKC,gBAAkBJ,GAAUG,KAAKE,eAAiBJ,IACzDE,KAAKC,cAAgBJ,EACrBG,KAAKE,aAAeJ,EACpBE,KAAKI,KAAK,mDAUEC,GACdL,KAAKM,OACHC,KAAKC,IAAIR,KAAKC,cAAeI,GAC7BE,KAAKC,IAAIR,KAAKE,aAAcG,oCAKzBL,KAAKG,YACRH,KAAKG,WAAY,EACjBH,KAAKI,KAAK,yCAKRJ,KAAKG,YACPH,KAAKG,WAAY,EACjBH,KAAKI,KAAK,4CAQZ,OAAOJ,KAAKG,gDAOZ,OAAOH,KAAKC,gBAAkBD,KAAKE,kDAOnC,OAAOF,KAAKC,cAAgBD,KAAKE,uDAOjC,OAAOF,KAAKG,UAAYH,KAAKC,cAAgB,8CAO7C,OAAOD,KAAKG,UAAYH,KAAKE,aAAe,8CAO5C,OAAOF,KAAKG,UACRI,KAAKC,IAAIR,KAAKC,cAAeD,KAAKE,cAClC,4CAOJ,OAAOF,KAAKG,UACRI,KAAKE,IAAIT,KAAKC,cAAeD,KAAKE,cAClC,sCAQGQ,EAAOC,GACd,OACEX,KAAKY,YACLZ,KAAKa,kBAAoBF,GACzBD,GAASV,KAAKc,yBAKpBrB,EAAkBG,GAChBmB,MAAM,EACNjB,OAAO,EACPQ,QAAQ,IAGVU,EAAOC,QAAUrB","file":"298.js"}