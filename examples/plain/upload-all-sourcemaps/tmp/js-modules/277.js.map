{"version":3,"sources":["/Users/jamielynch/repos/bugsnag-react-native/examples/plain/node_modules/react-native/Libraries/ReactNative/AppContainer.js"],"sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nconst EmitterSubscription = require('EmitterSubscription');\nconst PropTypes = require('prop-types');\nconst RCTDeviceEventEmitter = require('RCTDeviceEventEmitter');\nconst React = require('React');\nconst ReactNative = require('ReactNative');\nconst StyleSheet = require('StyleSheet');\nconst View = require('View');\n\ntype Context = {\n  rootTag: number,\n};\n\ntype Props = $ReadOnly<{|\n  children?: React.Node,\n  rootTag: number,\n  WrapperComponent?: ?React.ComponentType<any>,\n|}>;\n\ntype State = {|\n  inspector: ?React.Node,\n  mainKey: number,\n|};\n\nclass AppContainer extends React.Component<Props, State> {\n  state: State = {\n    inspector: null,\n    mainKey: 1,\n  };\n  _mainRef: ?React.ElementRef<typeof View>;\n  _subscription: ?EmitterSubscription = null;\n\n  static childContextTypes = {\n    rootTag: PropTypes.number,\n  };\n\n  getChildContext(): Context {\n    return {\n      rootTag: this.props.rootTag,\n    };\n  }\n\n  componentDidMount(): void {\n    if (__DEV__) {\n      if (!global.__RCTProfileIsProfiling) {\n        this._subscription = RCTDeviceEventEmitter.addListener(\n          'toggleElementInspector',\n          () => {\n            const Inspector = require('Inspector');\n            const inspector = this.state.inspector ? null : (\n              <Inspector\n                inspectedViewTag={ReactNative.findNodeHandle(this._mainRef)}\n                onRequestRerenderApp={updateInspectedViewTag => {\n                  this.setState(\n                    s => ({mainKey: s.mainKey + 1}),\n                    () =>\n                      updateInspectedViewTag(\n                        ReactNative.findNodeHandle(this._mainRef),\n                      ),\n                  );\n                }}\n              />\n            );\n            this.setState({inspector});\n          },\n        );\n      }\n    }\n  }\n\n  componentWillUnmount(): void {\n    if (this._subscription != null) {\n      this._subscription.remove();\n    }\n  }\n\n  render(): React.Node {\n    let yellowBox = null;\n    if (__DEV__) {\n      if (!global.__RCTProfileIsProfiling) {\n        const YellowBox = require('YellowBox');\n        yellowBox = <YellowBox />;\n      }\n    }\n\n    let innerView = (\n      <View\n        collapsable={!this.state.inspector}\n        key={this.state.mainKey}\n        pointerEvents=\"box-none\"\n        style={styles.appContainer}\n        ref={ref => {\n          this._mainRef = ref;\n        }}>\n        {this.props.children}\n      </View>\n    );\n\n    const Wrapper = this.props.WrapperComponent;\n    if (Wrapper != null) {\n      innerView = <Wrapper>{innerView}</Wrapper>;\n    }\n    return (\n      <View style={styles.appContainer} pointerEvents=\"box-none\">\n        {innerView}\n        {yellowBox}\n        {this.state.inspector}\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  appContainer: {\n    flex: 1,\n  },\n});\n\nif (__DEV__) {\n  if (!global.__RCTProfileIsProfiling) {\n    const YellowBox = require('YellowBox');\n    YellowBox.install();\n  }\n}\n\nmodule.exports = AppContainer;\n"],"names":["PropTypes","require","d","React","StyleSheet","View","AppContainer","state","inspector","mainKey","_subscription","rootTag","this","props","remove","_this3","innerView","createElement","collapsable","key","pointerEvents","style","styles","appContainer","ref","_mainRef","children","Wrapper","WrapperComponent","Component","childContextTypes","number","create","flex","module","exports"],"mappings":"4BAUA,mEAGMA,GADsBC,EAAOC,EAAA,IACjBD,EAAOC,EAAA,KAEnBC,GADwBF,EAAOC,EAAA,IACvBD,EAAOC,EAAA,KAEfE,GADcH,EAAOC,EAAA,IACRD,EAAOC,EAAA,MACpBG,EAAOJ,EAAOC,EAAA,KAiBdI,gLACJC,OACEC,UAAW,KACXC,QAAS,KAGXC,cAAsC,kEAOpC,OACEC,QAASC,KAAKC,MAAMF,qGAiCI,MAAtBC,KAAKF,eACPE,KAAKF,cAAcI,0CAIF,IAAAC,EAAAH,KASfI,EACFb,EAAAc,cAACZ,GACCa,aAAcN,KAAKL,MAAMC,UACzBW,IAAKP,KAAKL,MAAME,QAChBW,cAAc,WACdC,MAAOC,EAAOC,aACdC,IAAK,SAAAA,GACHT,EAAKU,SAAWD,IAEjBZ,KAAKC,MAAMa,UAIVC,EAAUf,KAAKC,MAAMe,iBAI3B,OAHe,MAAXD,IACFX,EAAYb,EAAAc,cAACU,EAAD,KAAUX,IAGtBb,EAAAc,cAACZ,GAAKgB,MAAOC,EAAOC,aAAcH,cAAc,YAC7CJ,EA3BW,KA6BXJ,KAAKL,MAAMC,mBAlFOL,EAAM0B,WAA3BvB,EAQGwB,mBACLnB,QAASX,EAAU+B,QA+EvB,IAAMT,EAASlB,EAAW4B,QACxBT,cACEU,KAAM,KAWVC,EAAOC,QAAU7B","file":"277.js"}