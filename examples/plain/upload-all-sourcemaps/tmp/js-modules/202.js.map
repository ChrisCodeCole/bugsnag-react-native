{"version":3,"sources":["/Users/jamielynch/repos/bugsnag-react-native/examples/plain/node_modules/react-native/Libraries/Components/Touchable/TouchableOpacity.js"],"sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nconst Animated = require('Animated');\nconst Easing = require('Easing');\nconst NativeMethodsMixin = require('NativeMethodsMixin');\nconst React = require('React');\nconst PropTypes = require('prop-types');\nconst TimerMixin = require('react-timer-mixin');\nconst Touchable = require('Touchable');\nconst TouchableWithoutFeedback = require('TouchableWithoutFeedback');\n\nconst createReactClass = require('create-react-class');\nconst ensurePositiveDelayProps = require('ensurePositiveDelayProps');\nconst flattenStyle = require('flattenStyle');\n\nimport type {Props as TouchableWithoutFeedbackProps} from 'TouchableWithoutFeedback';\nimport type {ViewStyleProp} from 'StyleSheet';\n\ntype Event = Object;\n\nconst PRESS_RETENTION_OFFSET = {top: 20, left: 20, right: 20, bottom: 30};\n\ntype TVProps = $ReadOnly<{|\n  hasTVPreferredFocus?: ?boolean,\n  tvParallaxProperties?: ?Object,\n|}>;\n\ntype Props = $ReadOnly<{|\n  ...TouchableWithoutFeedbackProps,\n  ...TVProps,\n  activeOpacity?: ?number,\n  style?: ?ViewStyleProp,\n|}>;\n\n/**\n * A wrapper for making views respond properly to touches.\n * On press down, the opacity of the wrapped view is decreased, dimming it.\n *\n * Opacity is controlled by wrapping the children in an Animated.View, which is\n * added to the view hiearchy.  Be aware that this can affect layout.\n *\n * Example:\n *\n * ```\n * renderButton: function() {\n *   return (\n *     <TouchableOpacity onPress={this._onPressButton}>\n *       <Image\n *         style={styles.button}\n *         source={require('./myButton.png')}\n *       />\n *     </TouchableOpacity>\n *   );\n * },\n * ```\n * ### Example\n *\n * ```ReactNativeWebPlayer\n * import React, { Component } from 'react'\n * import {\n *   AppRegistry,\n *   StyleSheet,\n *   TouchableOpacity,\n *   Text,\n *   View,\n * } from 'react-native'\n *\n * class App extends Component {\n *   constructor(props) {\n *     super(props)\n *     this.state = { count: 0 }\n *   }\n *\n *   onPress = () => {\n *     this.setState({\n *       count: this.state.count+1\n *     })\n *   }\n *\n *  render() {\n *    return (\n *      <View style={styles.container}>\n *        <TouchableOpacity\n *          style={styles.button}\n *          onPress={this.onPress}\n *        >\n *          <Text> Touch Here </Text>\n *        </TouchableOpacity>\n *        <View style={[styles.countContainer]}>\n *          <Text style={[styles.countText]}>\n *             { this.state.count !== 0 ? this.state.count: null}\n *           </Text>\n *         </View>\n *       </View>\n *     )\n *   }\n * }\n *\n * const styles = StyleSheet.create({\n *   container: {\n *     flex: 1,\n *     justifyContent: 'center',\n *     paddingHorizontal: 10\n *   },\n *   button: {\n *     alignItems: 'center',\n *     backgroundColor: '#DDDDDD',\n *     padding: 10\n *   },\n *   countContainer: {\n *     alignItems: 'center',\n *     padding: 10\n *   },\n *   countText: {\n *     color: '#FF00FF'\n *   }\n * })\n *\n * AppRegistry.registerComponent('App', () => App)\n * ```\n *\n */\nconst TouchableOpacity = ((createReactClass({\n  displayName: 'TouchableOpacity',\n  mixins: [TimerMixin, Touchable.Mixin, NativeMethodsMixin],\n\n  propTypes: {\n    ...TouchableWithoutFeedback.propTypes,\n    /**\n     * Determines what the opacity of the wrapped view should be when touch is\n     * active. Defaults to 0.2.\n     */\n    activeOpacity: PropTypes.number,\n    /**\n     * TV preferred focus (see documentation for the View component).\n     */\n    hasTVPreferredFocus: PropTypes.bool,\n    /**\n     * Apple TV parallax effects\n     */\n    tvParallaxProperties: PropTypes.object,\n  },\n\n  getDefaultProps: function() {\n    return {\n      activeOpacity: 0.2,\n    };\n  },\n\n  getInitialState: function() {\n    return {\n      ...this.touchableGetInitialState(),\n      anim: new Animated.Value(this._getChildStyleOpacityWithDefault()),\n    };\n  },\n\n  componentDidMount: function() {\n    ensurePositiveDelayProps(this.props);\n  },\n\n  UNSAFE_componentWillReceiveProps: function(nextProps) {\n    ensurePositiveDelayProps(nextProps);\n  },\n\n  componentDidUpdate: function(prevProps, prevState) {\n    if (this.props.disabled !== prevProps.disabled) {\n      this._opacityInactive(250);\n    }\n  },\n\n  /**\n   * Animate the touchable to a new opacity.\n   */\n  setOpacityTo: function(value: number, duration: number) {\n    Animated.timing(this.state.anim, {\n      toValue: value,\n      duration: duration,\n      easing: Easing.inOut(Easing.quad),\n      useNativeDriver: true,\n    }).start();\n  },\n\n  /**\n   * `Touchable.Mixin` self callbacks. The mixin will invoke these if they are\n   * defined on your component.\n   */\n  touchableHandleActivePressIn: function(e: Event) {\n    if (e.dispatchConfig.registrationName === 'onResponderGrant') {\n      this._opacityActive(0);\n    } else {\n      this._opacityActive(150);\n    }\n    this.props.onPressIn && this.props.onPressIn(e);\n  },\n\n  touchableHandleActivePressOut: function(e: Event) {\n    this._opacityInactive(250);\n    this.props.onPressOut && this.props.onPressOut(e);\n  },\n\n  touchableHandlePress: function(e: Event) {\n    this.props.onPress && this.props.onPress(e);\n  },\n\n  touchableHandleLongPress: function(e: Event) {\n    this.props.onLongPress && this.props.onLongPress(e);\n  },\n\n  touchableGetPressRectOffset: function() {\n    return this.props.pressRetentionOffset || PRESS_RETENTION_OFFSET;\n  },\n\n  touchableGetHitSlop: function() {\n    return this.props.hitSlop;\n  },\n\n  touchableGetHighlightDelayMS: function() {\n    return this.props.delayPressIn || 0;\n  },\n\n  touchableGetLongPressDelayMS: function() {\n    return this.props.delayLongPress === 0\n      ? 0\n      : this.props.delayLongPress || 500;\n  },\n\n  touchableGetPressOutDelayMS: function() {\n    return this.props.delayPressOut;\n  },\n\n  _opacityActive: function(duration: number) {\n    this.setOpacityTo(this.props.activeOpacity, duration);\n  },\n\n  _opacityInactive: function(duration: number) {\n    this.setOpacityTo(this._getChildStyleOpacityWithDefault(), duration);\n  },\n\n  _getChildStyleOpacityWithDefault: function() {\n    const childStyle = flattenStyle(this.props.style) || {};\n    return childStyle.opacity == undefined ? 1 : childStyle.opacity;\n  },\n\n  render: function() {\n    return (\n      <Animated.View\n        accessible={this.props.accessible !== false}\n        accessibilityLabel={this.props.accessibilityLabel}\n        accessibilityHint={this.props.accessibilityHint}\n        accessibilityRole={this.props.accessibilityRole}\n        accessibilityStates={this.props.accessibilityStates}\n        style={[this.props.style, {opacity: this.state.anim}]}\n        nativeID={this.props.nativeID}\n        testID={this.props.testID}\n        onLayout={this.props.onLayout}\n        isTVSelectable={true}\n        hasTVPreferredFocus={this.props.hasTVPreferredFocus}\n        tvParallaxProperties={this.props.tvParallaxProperties}\n        hitSlop={this.props.hitSlop}\n        onStartShouldSetResponder={this.touchableHandleStartShouldSetResponder}\n        onResponderTerminationRequest={\n          this.touchableHandleResponderTerminationRequest\n        }\n        onResponderGrant={this.touchableHandleResponderGrant}\n        onResponderMove={this.touchableHandleResponderMove}\n        onResponderRelease={this.touchableHandleResponderRelease}\n        onResponderTerminate={this.touchableHandleResponderTerminate}>\n        {this.props.children}\n        {Touchable.renderDebugView({\n          color: 'cyan',\n          hitSlop: this.props.hitSlop,\n        })}\n      </Animated.View>\n    );\n  },\n}): any): React.ComponentType<Props>);\n\nmodule.exports = TouchableOpacity;\n"],"names":["Animated","require","d","Easing","NativeMethodsMixin","React","PropTypes","TimerMixin","Touchable","TouchableWithoutFeedback","createReactClass","ensurePositiveDelayProps","flattenStyle","PRESS_RETENTION_OFFSET","top","left","right","bottom","TouchableOpacity","displayName","mixins","Mixin","propTypes","_objectSpread","activeOpacity","number","hasTVPreferredFocus","bool","tvParallaxProperties","object","getDefaultProps","getInitialState","this","touchableGetInitialState","anim","Value","_getChildStyleOpacityWithDefault","componentDidMount","props","UNSAFE_componentWillReceiveProps","nextProps","componentDidUpdate","prevProps","prevState","disabled","_opacityInactive","setOpacityTo","value","duration","timing","state","toValue","easing","inOut","quad","useNativeDriver","start","touchableHandleActivePressIn","e","dispatchConfig","registrationName","_opacityActive","onPressIn","touchableHandleActivePressOut","onPressOut","touchableHandlePress","onPress","touchableHandleLongPress","onLongPress","touchableGetPressRectOffset","pressRetentionOffset","touchableGetHitSlop","hitSlop","touchableGetHighlightDelayMS","delayPressIn","touchableGetLongPressDelayMS","delayLongPress","touchableGetPressOutDelayMS","delayPressOut","childStyle","style","undefined","opacity","render","createElement","View","accessible","accessibilityLabel","accessibilityHint","accessibilityRole","accessibilityStates","nativeID","testID","onLayout","isTVSelectable","onStartShouldSetResponder","touchableHandleStartShouldSetResponder","onResponderTerminationRequest","touchableHandleResponderTerminationRequest","onResponderGrant","touchableHandleResponderGrant","onResponderMove","touchableHandleResponderMove","onResponderRelease","touchableHandleResponderRelease","onResponderTerminate","touchableHandleResponderTerminate","children","renderDebugView","color","module","exports"],"mappings":"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","file":"202.js"}