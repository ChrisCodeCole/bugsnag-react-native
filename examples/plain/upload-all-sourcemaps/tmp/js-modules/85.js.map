{"version":3,"sources":["/Users/jamielynch/repos/bugsnag-react-native/examples/plain/node_modules/react-native/Libraries/Utilities/MatrixMath.js"],"sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @noflow\n */\n\n/* eslint-disable space-infix-ops */\n'use strict';\n\nconst invariant = require('fbjs/lib/invariant');\n\n/**\n * Memory conservative (mutative) matrix math utilities. Uses \"command\"\n * matrices, which are reusable.\n */\nconst MatrixMath = {\n  createIdentityMatrix: function() {\n    return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n  },\n\n  createCopy: function(m) {\n    return [\n      m[0],\n      m[1],\n      m[2],\n      m[3],\n      m[4],\n      m[5],\n      m[6],\n      m[7],\n      m[8],\n      m[9],\n      m[10],\n      m[11],\n      m[12],\n      m[13],\n      m[14],\n      m[15],\n    ];\n  },\n\n  createOrthographic: function(left, right, bottom, top, near, far) {\n    const a = 2 / (right - left);\n    const b = 2 / (top - bottom);\n    const c = -2 / (far - near);\n\n    const tx = -(right + left) / (right - left);\n    const ty = -(top + bottom) / (top - bottom);\n    const tz = -(far + near) / (far - near);\n\n    return [a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, tx, ty, tz, 1];\n  },\n\n  createFrustum: function(left, right, bottom, top, near, far) {\n    const r_width = 1 / (right - left);\n    const r_height = 1 / (top - bottom);\n    const r_depth = 1 / (near - far);\n    const x = 2 * (near * r_width);\n    const y = 2 * (near * r_height);\n    const A = (right + left) * r_width;\n    const B = (top + bottom) * r_height;\n    const C = (far + near) * r_depth;\n    const D = 2 * (far * near * r_depth);\n    return [x, 0, 0, 0, 0, y, 0, 0, A, B, C, -1, 0, 0, D, 0];\n  },\n\n  /**\n   * This create a perspective projection towards negative z\n   * Clipping the z range of [-near, -far]\n   *\n   * @param fovInRadians - field of view in randians\n   */\n  createPerspective: function(fovInRadians, aspect, near, far) {\n    const h = 1 / Math.tan(fovInRadians / 2);\n    const r_depth = 1 / (near - far);\n    const C = (far + near) * r_depth;\n    const D = 2 * (far * near * r_depth);\n    return [h / aspect, 0, 0, 0, 0, h, 0, 0, 0, 0, C, -1, 0, 0, D, 0];\n  },\n\n  createTranslate2d: function(x, y) {\n    const mat = MatrixMath.createIdentityMatrix();\n    MatrixMath.reuseTranslate2dCommand(mat, x, y);\n    return mat;\n  },\n\n  reuseTranslate2dCommand: function(matrixCommand, x, y) {\n    matrixCommand[12] = x;\n    matrixCommand[13] = y;\n  },\n\n  reuseTranslate3dCommand: function(matrixCommand, x, y, z) {\n    matrixCommand[12] = x;\n    matrixCommand[13] = y;\n    matrixCommand[14] = z;\n  },\n\n  createScale: function(factor) {\n    const mat = MatrixMath.createIdentityMatrix();\n    MatrixMath.reuseScaleCommand(mat, factor);\n    return mat;\n  },\n\n  reuseScaleCommand: function(matrixCommand, factor) {\n    matrixCommand[0] = factor;\n    matrixCommand[5] = factor;\n  },\n\n  reuseScale3dCommand: function(matrixCommand, x, y, z) {\n    matrixCommand[0] = x;\n    matrixCommand[5] = y;\n    matrixCommand[10] = z;\n  },\n\n  reusePerspectiveCommand: function(matrixCommand, p) {\n    matrixCommand[11] = -1 / p;\n  },\n\n  reuseScaleXCommand(matrixCommand, factor) {\n    matrixCommand[0] = factor;\n  },\n\n  reuseScaleYCommand(matrixCommand, factor) {\n    matrixCommand[5] = factor;\n  },\n\n  reuseScaleZCommand(matrixCommand, factor) {\n    matrixCommand[10] = factor;\n  },\n\n  reuseRotateXCommand: function(matrixCommand, radians) {\n    matrixCommand[5] = Math.cos(radians);\n    matrixCommand[6] = Math.sin(radians);\n    matrixCommand[9] = -Math.sin(radians);\n    matrixCommand[10] = Math.cos(radians);\n  },\n\n  reuseRotateYCommand: function(matrixCommand, amount) {\n    matrixCommand[0] = Math.cos(amount);\n    matrixCommand[2] = -Math.sin(amount);\n    matrixCommand[8] = Math.sin(amount);\n    matrixCommand[10] = Math.cos(amount);\n  },\n\n  // http://www.w3.org/TR/css3-transforms/#recomposing-to-a-2d-matrix\n  reuseRotateZCommand: function(matrixCommand, radians) {\n    matrixCommand[0] = Math.cos(radians);\n    matrixCommand[1] = Math.sin(radians);\n    matrixCommand[4] = -Math.sin(radians);\n    matrixCommand[5] = Math.cos(radians);\n  },\n\n  createRotateZ: function(radians) {\n    const mat = MatrixMath.createIdentityMatrix();\n    MatrixMath.reuseRotateZCommand(mat, radians);\n    return mat;\n  },\n\n  reuseSkewXCommand: function(matrixCommand, radians) {\n    matrixCommand[4] = Math.tan(radians);\n  },\n\n  reuseSkewYCommand: function(matrixCommand, radians) {\n    matrixCommand[1] = Math.tan(radians);\n  },\n\n  multiplyInto: function(out, a, b) {\n    const a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3],\n      a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7],\n      a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11],\n      a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n\n    let b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[4];\n    b1 = b[5];\n    b2 = b[6];\n    b3 = b[7];\n    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[8];\n    b1 = b[9];\n    b2 = b[10];\n    b3 = b[11];\n    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[12];\n    b1 = b[13];\n    b2 = b[14];\n    b3 = b[15];\n    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  },\n\n  determinant(matrix: Array<number>): number {\n    const [\n      m00,\n      m01,\n      m02,\n      m03,\n      m10,\n      m11,\n      m12,\n      m13,\n      m20,\n      m21,\n      m22,\n      m23,\n      m30,\n      m31,\n      m32,\n      m33,\n    ] = matrix;\n    return (\n      m03 * m12 * m21 * m30 -\n      m02 * m13 * m21 * m30 -\n      m03 * m11 * m22 * m30 +\n      m01 * m13 * m22 * m30 +\n      m02 * m11 * m23 * m30 -\n      m01 * m12 * m23 * m30 -\n      m03 * m12 * m20 * m31 +\n      m02 * m13 * m20 * m31 +\n      m03 * m10 * m22 * m31 -\n      m00 * m13 * m22 * m31 -\n      m02 * m10 * m23 * m31 +\n      m00 * m12 * m23 * m31 +\n      m03 * m11 * m20 * m32 -\n      m01 * m13 * m20 * m32 -\n      m03 * m10 * m21 * m32 +\n      m00 * m13 * m21 * m32 +\n      m01 * m10 * m23 * m32 -\n      m00 * m11 * m23 * m32 -\n      m02 * m11 * m20 * m33 +\n      m01 * m12 * m20 * m33 +\n      m02 * m10 * m21 * m33 -\n      m00 * m12 * m21 * m33 -\n      m01 * m10 * m22 * m33 +\n      m00 * m11 * m22 * m33\n    );\n  },\n\n  /**\n   * Inverse of a matrix. Multiplying by the inverse is used in matrix math\n   * instead of division.\n   *\n   * Formula from:\n   * http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n   */\n  inverse(matrix: Array<number>): Array<number> {\n    const det = MatrixMath.determinant(matrix);\n    if (!det) {\n      return matrix;\n    }\n    const [\n      m00,\n      m01,\n      m02,\n      m03,\n      m10,\n      m11,\n      m12,\n      m13,\n      m20,\n      m21,\n      m22,\n      m23,\n      m30,\n      m31,\n      m32,\n      m33,\n    ] = matrix;\n    return [\n      (m12 * m23 * m31 -\n        m13 * m22 * m31 +\n        m13 * m21 * m32 -\n        m11 * m23 * m32 -\n        m12 * m21 * m33 +\n        m11 * m22 * m33) /\n        det,\n      (m03 * m22 * m31 -\n        m02 * m23 * m31 -\n        m03 * m21 * m32 +\n        m01 * m23 * m32 +\n        m02 * m21 * m33 -\n        m01 * m22 * m33) /\n        det,\n      (m02 * m13 * m31 -\n        m03 * m12 * m31 +\n        m03 * m11 * m32 -\n        m01 * m13 * m32 -\n        m02 * m11 * m33 +\n        m01 * m12 * m33) /\n        det,\n      (m03 * m12 * m21 -\n        m02 * m13 * m21 -\n        m03 * m11 * m22 +\n        m01 * m13 * m22 +\n        m02 * m11 * m23 -\n        m01 * m12 * m23) /\n        det,\n      (m13 * m22 * m30 -\n        m12 * m23 * m30 -\n        m13 * m20 * m32 +\n        m10 * m23 * m32 +\n        m12 * m20 * m33 -\n        m10 * m22 * m33) /\n        det,\n      (m02 * m23 * m30 -\n        m03 * m22 * m30 +\n        m03 * m20 * m32 -\n        m00 * m23 * m32 -\n        m02 * m20 * m33 +\n        m00 * m22 * m33) /\n        det,\n      (m03 * m12 * m30 -\n        m02 * m13 * m30 -\n        m03 * m10 * m32 +\n        m00 * m13 * m32 +\n        m02 * m10 * m33 -\n        m00 * m12 * m33) /\n        det,\n      (m02 * m13 * m20 -\n        m03 * m12 * m20 +\n        m03 * m10 * m22 -\n        m00 * m13 * m22 -\n        m02 * m10 * m23 +\n        m00 * m12 * m23) /\n        det,\n      (m11 * m23 * m30 -\n        m13 * m21 * m30 +\n        m13 * m20 * m31 -\n        m10 * m23 * m31 -\n        m11 * m20 * m33 +\n        m10 * m21 * m33) /\n        det,\n      (m03 * m21 * m30 -\n        m01 * m23 * m30 -\n        m03 * m20 * m31 +\n        m00 * m23 * m31 +\n        m01 * m20 * m33 -\n        m00 * m21 * m33) /\n        det,\n      (m01 * m13 * m30 -\n        m03 * m11 * m30 +\n        m03 * m10 * m31 -\n        m00 * m13 * m31 -\n        m01 * m10 * m33 +\n        m00 * m11 * m33) /\n        det,\n      (m03 * m11 * m20 -\n        m01 * m13 * m20 -\n        m03 * m10 * m21 +\n        m00 * m13 * m21 +\n        m01 * m10 * m23 -\n        m00 * m11 * m23) /\n        det,\n      (m12 * m21 * m30 -\n        m11 * m22 * m30 -\n        m12 * m20 * m31 +\n        m10 * m22 * m31 +\n        m11 * m20 * m32 -\n        m10 * m21 * m32) /\n        det,\n      (m01 * m22 * m30 -\n        m02 * m21 * m30 +\n        m02 * m20 * m31 -\n        m00 * m22 * m31 -\n        m01 * m20 * m32 +\n        m00 * m21 * m32) /\n        det,\n      (m02 * m11 * m30 -\n        m01 * m12 * m30 -\n        m02 * m10 * m31 +\n        m00 * m12 * m31 +\n        m01 * m10 * m32 -\n        m00 * m11 * m32) /\n        det,\n      (m01 * m12 * m20 -\n        m02 * m11 * m20 +\n        m02 * m10 * m21 -\n        m00 * m12 * m21 -\n        m01 * m10 * m22 +\n        m00 * m11 * m22) /\n        det,\n    ];\n  },\n\n  /**\n   * Turns columns into rows and rows into columns.\n   */\n  transpose(m: Array<number>): Array<number> {\n    return [\n      m[0],\n      m[4],\n      m[8],\n      m[12],\n      m[1],\n      m[5],\n      m[9],\n      m[13],\n      m[2],\n      m[6],\n      m[10],\n      m[14],\n      m[3],\n      m[7],\n      m[11],\n      m[15],\n    ];\n  },\n\n  /**\n   * Based on: http://tog.acm.org/resources/GraphicsGems/gemsii/unmatrix.c\n   */\n  multiplyVectorByMatrix(v: Array<number>, m: Array<number>): Array<number> {\n    const [vx, vy, vz, vw] = v;\n    return [\n      vx * m[0] + vy * m[4] + vz * m[8] + vw * m[12],\n      vx * m[1] + vy * m[5] + vz * m[9] + vw * m[13],\n      vx * m[2] + vy * m[6] + vz * m[10] + vw * m[14],\n      vx * m[3] + vy * m[7] + vz * m[11] + vw * m[15],\n    ];\n  },\n\n  /**\n   * From: https://code.google.com/p/webgl-mjs/source/browse/mjs.js\n   */\n  v3Length(a: Array<number>): number {\n    return Math.sqrt(a[0] * a[0] + a[1] * a[1] + a[2] * a[2]);\n  },\n\n  /**\n   * Based on: https://code.google.com/p/webgl-mjs/source/browse/mjs.js\n   */\n  v3Normalize(vector: Array<number>, v3Length: number): Array<number> {\n    const im = 1 / (v3Length || MatrixMath.v3Length(vector));\n    return [vector[0] * im, vector[1] * im, vector[2] * im];\n  },\n\n  /**\n   * The dot product of a and b, two 3-element vectors.\n   * From: https://code.google.com/p/webgl-mjs/source/browse/mjs.js\n   */\n  v3Dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n  },\n\n  /**\n   * From:\n   * http://www.opensource.apple.com/source/WebCore/WebCore-514/platform/graphics/transforms/TransformationMatrix.cpp\n   */\n  v3Combine(\n    a: Array<number>,\n    b: Array<number>,\n    aScale: number,\n    bScale: number,\n  ): Array<number> {\n    return [\n      aScale * a[0] + bScale * b[0],\n      aScale * a[1] + bScale * b[1],\n      aScale * a[2] + bScale * b[2],\n    ];\n  },\n\n  /**\n   * From:\n   * http://www.opensource.apple.com/source/WebCore/WebCore-514/platform/graphics/transforms/TransformationMatrix.cpp\n   */\n  v3Cross(a: Array<number>, b: Array<number>): Array<number> {\n    return [\n      a[1] * b[2] - a[2] * b[1],\n      a[2] * b[0] - a[0] * b[2],\n      a[0] * b[1] - a[1] * b[0],\n    ];\n  },\n\n  /**\n   * Based on:\n   * http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToEuler/\n   * and:\n   * http://quat.zachbennett.com/\n   *\n   * Note that this rounds degrees to the thousandth of a degree, due to\n   * floating point errors in the creation of the quaternion.\n   *\n   * Also note that this expects the qw value to be last, not first.\n   *\n   * Also, when researching this, remember that:\n   * yaw   === heading            === z-axis\n   * pitch === elevation/attitude === y-axis\n   * roll  === bank               === x-axis\n   */\n  quaternionToDegreesXYZ(q: Array<number>, matrix, row): Array<number> {\n    const [qx, qy, qz, qw] = q;\n    const qw2 = qw * qw;\n    const qx2 = qx * qx;\n    const qy2 = qy * qy;\n    const qz2 = qz * qz;\n    const test = qx * qy + qz * qw;\n    const unit = qw2 + qx2 + qy2 + qz2;\n    const conv = 180 / Math.PI;\n\n    if (test > 0.49999 * unit) {\n      return [0, 2 * Math.atan2(qx, qw) * conv, 90];\n    }\n    if (test < -0.49999 * unit) {\n      return [0, -2 * Math.atan2(qx, qw) * conv, -90];\n    }\n\n    return [\n      MatrixMath.roundTo3Places(\n        Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx2 - 2 * qz2) * conv,\n      ),\n      MatrixMath.roundTo3Places(\n        Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy2 - 2 * qz2) * conv,\n      ),\n      MatrixMath.roundTo3Places(Math.asin(2 * qx * qy + 2 * qz * qw) * conv),\n    ];\n  },\n\n  /**\n   * Based on:\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round\n   */\n  roundTo3Places(n: number): number {\n    const arr = n.toString().split('e');\n    return Math.round(arr[0] + 'e' + (arr[1] ? +arr[1] - 3 : 3)) * 0.001;\n  },\n\n  /**\n   * Decompose a matrix into separate transform values, for use on platforms\n   * where applying a precomposed matrix is not possible, and transforms are\n   * applied in an inflexible ordering (e.g. Android).\n   *\n   * Implementation based on\n   * http://www.w3.org/TR/css3-transforms/#decomposing-a-2d-matrix\n   * http://www.w3.org/TR/css3-transforms/#decomposing-a-3d-matrix\n   * which was based on\n   * http://tog.acm.org/resources/GraphicsGems/gemsii/unmatrix.c\n   */\n  decomposeMatrix(transformMatrix: Array<number>): ?Object {\n    invariant(\n      transformMatrix.length === 16,\n      'Matrix decomposition needs a list of 3d matrix values, received %s',\n      transformMatrix,\n    );\n\n    // output values\n    var perspective = [];\n    const quaternion = [];\n    const scale = [];\n    const skew = [];\n    const translation = [];\n\n    // create normalized, 2d array matrix\n    // and normalized 1d array perspectiveMatrix with redefined 4th column\n    if (!transformMatrix[15]) {\n      return;\n    }\n    const matrix = [];\n    const perspectiveMatrix = [];\n    for (var i = 0; i < 4; i++) {\n      matrix.push([]);\n      for (let j = 0; j < 4; j++) {\n        const value = transformMatrix[i * 4 + j] / transformMatrix[15];\n        matrix[i].push(value);\n        perspectiveMatrix.push(j === 3 ? 0 : value);\n      }\n    }\n    perspectiveMatrix[15] = 1;\n\n    // test for singularity of upper 3x3 part of the perspective matrix\n    if (!MatrixMath.determinant(perspectiveMatrix)) {\n      return;\n    }\n\n    // isolate perspective\n    if (matrix[0][3] !== 0 || matrix[1][3] !== 0 || matrix[2][3] !== 0) {\n      // rightHandSide is the right hand side of the equation.\n      // rightHandSide is a vector, or point in 3d space relative to the origin.\n      const rightHandSide = [\n        matrix[0][3],\n        matrix[1][3],\n        matrix[2][3],\n        matrix[3][3],\n      ];\n\n      // Solve the equation by inverting perspectiveMatrix and multiplying\n      // rightHandSide by the inverse.\n      const inversePerspectiveMatrix = MatrixMath.inverse(perspectiveMatrix);\n      const transposedInversePerspectiveMatrix = MatrixMath.transpose(\n        inversePerspectiveMatrix,\n      );\n      var perspective = MatrixMath.multiplyVectorByMatrix(\n        rightHandSide,\n        transposedInversePerspectiveMatrix,\n      );\n    } else {\n      // no perspective\n      perspective[0] = perspective[1] = perspective[2] = 0;\n      perspective[3] = 1;\n    }\n\n    // translation is simple\n    for (var i = 0; i < 3; i++) {\n      translation[i] = matrix[3][i];\n    }\n\n    // Now get scale and shear.\n    // 'row' is a 3 element array of 3 component vectors\n    const row = [];\n    for (i = 0; i < 3; i++) {\n      row[i] = [matrix[i][0], matrix[i][1], matrix[i][2]];\n    }\n\n    // Compute X scale factor and normalize first row.\n    scale[0] = MatrixMath.v3Length(row[0]);\n    row[0] = MatrixMath.v3Normalize(row[0], scale[0]);\n\n    // Compute XY shear factor and make 2nd row orthogonal to 1st.\n    skew[0] = MatrixMath.v3Dot(row[0], row[1]);\n    row[1] = MatrixMath.v3Combine(row[1], row[0], 1.0, -skew[0]);\n\n    // Compute XY shear factor and make 2nd row orthogonal to 1st.\n    skew[0] = MatrixMath.v3Dot(row[0], row[1]);\n    row[1] = MatrixMath.v3Combine(row[1], row[0], 1.0, -skew[0]);\n\n    // Now, compute Y scale and normalize 2nd row.\n    scale[1] = MatrixMath.v3Length(row[1]);\n    row[1] = MatrixMath.v3Normalize(row[1], scale[1]);\n    skew[0] /= scale[1];\n\n    // Compute XZ and YZ shears, orthogonalize 3rd row\n    skew[1] = MatrixMath.v3Dot(row[0], row[2]);\n    row[2] = MatrixMath.v3Combine(row[2], row[0], 1.0, -skew[1]);\n    skew[2] = MatrixMath.v3Dot(row[1], row[2]);\n    row[2] = MatrixMath.v3Combine(row[2], row[1], 1.0, -skew[2]);\n\n    // Next, get Z scale and normalize 3rd row.\n    scale[2] = MatrixMath.v3Length(row[2]);\n    row[2] = MatrixMath.v3Normalize(row[2], scale[2]);\n    skew[1] /= scale[2];\n    skew[2] /= scale[2];\n\n    // At this point, the matrix (in rows) is orthonormal.\n    // Check for a coordinate system flip.  If the determinant\n    // is -1, then negate the matrix and the scaling factors.\n    const pdum3 = MatrixMath.v3Cross(row[1], row[2]);\n    if (MatrixMath.v3Dot(row[0], pdum3) < 0) {\n      for (i = 0; i < 3; i++) {\n        scale[i] *= -1;\n        row[i][0] *= -1;\n        row[i][1] *= -1;\n        row[i][2] *= -1;\n      }\n    }\n\n    // Now, get the rotations out\n    quaternion[0] =\n      0.5 * Math.sqrt(Math.max(1 + row[0][0] - row[1][1] - row[2][2], 0));\n    quaternion[1] =\n      0.5 * Math.sqrt(Math.max(1 - row[0][0] + row[1][1] - row[2][2], 0));\n    quaternion[2] =\n      0.5 * Math.sqrt(Math.max(1 - row[0][0] - row[1][1] + row[2][2], 0));\n    quaternion[3] =\n      0.5 * Math.sqrt(Math.max(1 + row[0][0] + row[1][1] + row[2][2], 0));\n\n    if (row[2][1] > row[1][2]) {\n      quaternion[0] = -quaternion[0];\n    }\n    if (row[0][2] > row[2][0]) {\n      quaternion[1] = -quaternion[1];\n    }\n    if (row[1][0] > row[0][1]) {\n      quaternion[2] = -quaternion[2];\n    }\n\n    // correct for occasional, weird Euler synonyms for 2d rotation\n    let rotationDegrees;\n    if (\n      quaternion[0] < 0.001 &&\n      quaternion[0] >= 0 &&\n      quaternion[1] < 0.001 &&\n      quaternion[1] >= 0\n    ) {\n      // this is a 2d rotation on the z-axis\n      rotationDegrees = [\n        0,\n        0,\n        MatrixMath.roundTo3Places(\n          (Math.atan2(row[0][1], row[0][0]) * 180) / Math.PI,\n        ),\n      ];\n    } else {\n      rotationDegrees = MatrixMath.quaternionToDegreesXYZ(\n        quaternion,\n        matrix,\n        row,\n      );\n    }\n\n    // expose both base data and convenience names\n    return {\n      rotationDegrees,\n      perspective,\n      quaternion,\n      scale,\n      skew,\n      translation,\n\n      rotate: rotationDegrees[2],\n      rotateX: rotationDegrees[0],\n      rotateY: rotationDegrees[1],\n      scaleX: scale[0],\n      scaleY: scale[1],\n      translateX: translation[0],\n      translateY: translation[1],\n    };\n  },\n};\n\nmodule.exports = MatrixMath;\n"],"names":["invariant","require","d","MatrixMath","createIdentityMatrix","createCopy","m","createOrthographic","left","right","bottom","top","near","far","createFrustum","r_width","r_height","r_depth","createPerspective","fovInRadians","aspect","h","Math","tan","createTranslate2d","x","y","mat","reuseTranslate2dCommand","matrixCommand","reuseTranslate3dCommand","z","createScale","factor","reuseScaleCommand","reuseScale3dCommand","reusePerspectiveCommand","p","reuseScaleXCommand","reuseScaleYCommand","reuseScaleZCommand","reuseRotateXCommand","radians","cos","sin","reuseRotateYCommand","amount","reuseRotateZCommand","createRotateZ","reuseSkewXCommand","reuseSkewYCommand","multiplyInto","out","a","b","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b2","b3","determinant","matrix","_matrix","_slicedToArray","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","inverse","det","_matrix2","transpose","multiplyVectorByMatrix","v","_v","vx","vy","vz","vw","v3Length","sqrt","v3Normalize","vector","im","v3Dot","v3Combine","aScale","bScale","v3Cross","quaternionToDegreesXYZ","q","row","_q","qx","qy","qz","qw","qx2","qy2","qz2","test","unit","conv","PI","atan2","roundTo3Places","asin","n","arr","toString","split","round","decomposeMatrix","transformMatrix","length","perspective","quaternion","scale","skew","translation","perspectiveMatrix","i","push","j","value","rightHandSide","inversePerspectiveMatrix","transposedInversePerspectiveMatrix","rotationDegrees","pdum3","max","rotate","rotateX","rotateY","scaleX","scaleY","translateX","translateY","module","exports"],"mappings":"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","file":"85.js"}