{"version":3,"sources":["/Users/jamielynch/repos/bugsnag-react-native/examples/plain/node_modules/react-native/Libraries/Renderer/shims/ReactNativeViewConfigRegistry.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow strict-local\n */\n\n'use strict';\n\nimport type {\n  ReactNativeBaseComponentViewConfig,\n  ViewConfigGetter,\n} from './ReactNativeTypes';\n\nconst invariant = require('fbjs/lib/invariant');\n\n// Event configs\nconst customBubblingEventTypes = {};\nconst customDirectEventTypes = {};\nconst eventTypes = {};\n\nexports.customBubblingEventTypes = customBubblingEventTypes;\nexports.customDirectEventTypes = customDirectEventTypes;\nexports.eventTypes = eventTypes;\n\nconst viewConfigCallbacks = new Map();\nconst viewConfigs = new Map();\n\nfunction processEventTypes(\n  viewConfig: ReactNativeBaseComponentViewConfig<>,\n): void {\n  const {bubblingEventTypes, directEventTypes} = viewConfig;\n\n  if (__DEV__) {\n    if (bubblingEventTypes != null && directEventTypes != null) {\n      for (const topLevelType in directEventTypes) {\n        invariant(\n          bubblingEventTypes[topLevelType] == null,\n          'Event cannot be both direct and bubbling: %s',\n          topLevelType,\n        );\n      }\n    }\n  }\n\n  if (bubblingEventTypes != null) {\n    for (const topLevelType in bubblingEventTypes) {\n      if (customBubblingEventTypes[topLevelType] == null) {\n        eventTypes[topLevelType] = customBubblingEventTypes[topLevelType] =\n          bubblingEventTypes[topLevelType];\n      }\n    }\n  }\n\n  if (directEventTypes != null) {\n    for (const topLevelType in directEventTypes) {\n      if (customDirectEventTypes[topLevelType] == null) {\n        eventTypes[topLevelType] = customDirectEventTypes[topLevelType] =\n          directEventTypes[topLevelType];\n      }\n    }\n  }\n}\n\n/**\n * Registers a native view/component by name.\n * A callback is provided to load the view config from UIManager.\n * The callback is deferred until the view is actually rendered.\n * This is done to avoid causing Prepack deopts.\n */\nexports.register = function(name: string, callback: ViewConfigGetter): string {\n  invariant(\n    !viewConfigCallbacks.has(name),\n    'Tried to register two views with the same name %s',\n    name,\n  );\n  viewConfigCallbacks.set(name, callback);\n  return name;\n};\n\n/**\n * Retrieves a config for the specified view.\n * If this is the first time the view has been used,\n * This configuration will be lazy-loaded from UIManager.\n */\nexports.get = function(name: string): ReactNativeBaseComponentViewConfig<> {\n  let viewConfig;\n  if (!viewConfigs.has(name)) {\n    const callback = viewConfigCallbacks.get(name);\n    if (typeof callback !== 'function') {\n      invariant(\n        false,\n        'View config not found for name %s.%s',\n        name,\n        typeof name[0] === 'string' && /[a-z]/.test(name[0])\n          ? ' Make sure to start component names with a capital letter.'\n          : '',\n      );\n    }\n    viewConfigCallbacks.set(name, null);\n    viewConfig = callback();\n    processEventTypes(viewConfig);\n    viewConfigs.set(name, viewConfig);\n  } else {\n    viewConfig = viewConfigs.get(name);\n  }\n  invariant(viewConfig, 'View config not found for name %s', name);\n  return viewConfig;\n};\n"],"names":["invariant","require","d","customBubblingEventTypes","customDirectEventTypes","eventTypes","exports","viewConfigCallbacks","Map","viewConfigs","processEventTypes","viewConfig","bubblingEventTypes","directEventTypes","topLevelType","register","name","callback","has","set","get","test"],"mappings":"4BAUA,aAOA,IAAMA,EAAYC,EAAOC,EAAA,IAGnBC,KACAC,KACAC,KAENC,EAAQH,yBAA2BA,EACnCG,EAAQF,uBAAyBA,EACjCE,EAAQD,WAAaA,EAErB,IAAME,EAAsB,IAAIC,IAC1BC,EAAc,IAAID,IAExB,SAASE,EACPC,GACM,IACCC,EAAwCD,EAAxCC,mBAAoBC,EAAoBF,EAApBE,iBAc3B,GAA0B,MAAtBD,EACF,IAAK,IAAME,KAAgBF,EACqB,MAA1CT,EAAyBW,KAC3BT,EAAWS,GAAgBX,EAAyBW,GAClDF,EAAmBE,IAK3B,GAAwB,MAApBD,EACF,IAAK,IAAMC,KAAgBD,EACmB,MAAxCT,EAAuBU,KACzBT,EAAWS,GAAgBV,EAAuBU,GAChDD,EAAiBC,IAY3BR,EAAQS,SAAW,SAASC,EAAcC,GAOxC,OANAjB,GACGO,EAAoBW,IAAIF,GACzB,oDACAA,GAEFT,EAAoBY,IAAIH,EAAMC,GACvBD,GAQTV,EAAQc,IAAM,SAASJ,GACrB,IAAIL,EACJ,GAAKF,EAAYS,IAAIF,GAiBnBL,EAAaF,EAAYW,IAAIJ,OAjBH,CAC1B,IAAMC,EAAWV,EAAoBa,IAAIJ,GACjB,mBAAbC,GACTjB,GACE,EACA,uCACAgB,EACmB,iBAAZA,EAAK,IAAmB,QAAQK,KAAKL,EAAK,IAC7C,6DACA,IAGRT,EAAoBY,IAAIH,EAAM,MAE9BN,EADAC,EAAaM,KAEbR,EAAYU,IAAIH,EAAML,GAKxB,OADAX,EAAUW,EAAY,oCAAqCK,GACpDL","file":"156.js"}